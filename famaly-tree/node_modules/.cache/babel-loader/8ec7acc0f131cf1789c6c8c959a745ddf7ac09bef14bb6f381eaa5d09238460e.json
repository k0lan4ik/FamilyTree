{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\FamalyTree\\\\famaly-tree\\\\src\\\\pages\\\\Tree.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from \"react\";\nimport * as go from \"gojs\";\nimport { ReactDiagram } from \"gojs-react\";\nimport { Context } from \"..\";\nimport { PERSONE_ROUTE, REACT_APP_API_URL } from \"../utils/consts\";\nimport { fetchPersones } from \"../http/personeAPI\";\nimport { checkId } from \"../routes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tree = () => {\n  _s();\n  const {\n    persone,\n    user\n  } = useContext(Context);\n  useEffect(() => {\n    fetchPersones().then(data => persone.setPersones(data.rows));\n  });\n  console.log(\"eff\");\n  let branchs = [];\n  //const history = useNavigate;\n\n  const createBranches = persones => {\n    for (let i = 0; i < persones.length; i++) {\n      const persone = persones[i];\n      let color = \"#a1a7cc\";\n      if (i === 2) {\n        color = \"#cca1a1\";\n      }\n      branchs[i] = {\n        key: persone.id,\n        lastname: persone.lastname,\n        firstname: persone.firstname,\n        surname: persone.surname,\n        img: \"data:image/jpeg;base64,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\",\n        //REACT_APP_API_URL + persone.img,\n        color: color\n      };\n      console.log(branchs[i].img);\n    }\n  };\n  const textStyle = {\n    margin: new go.Margin(2, 10, 0, 0),\n    stroke: \"white\"\n  };\n  function initDiagram() {\n    const $ = go.GraphObject.make;\n    // set your license key here before creating the diagram: go.Diagram.licenseKey = \"...\";\n    const diagram = $(go.Diagram, {\n      \"undoManager.isEnabled\": true,\n      // must be set to allow for model change listening\n      layout: new go.TreeLayout({\n        angle: 90,\n        layerSpacing: 35\n      }),\n      // 'undoManager.maxHistoryLength': 0,  // uncomment disable undo/redo functionality\n      //\"clickCreatingTool.archetypeNodeData\": {\n      // firstname: \"new persone\",\n      // color: \"#a1a7cc\",\n      //},\n      model: new go.TreeModel({\n        linkKeyProperty: \"key\" // IMPORTANT! must be defined for merges and data sync when using GraphLinksModel\n      })\n    });\n\n    // define a simple Node template\n    diagram.nodeTemplate = $(go.Node, \"Auto\",\n    // the Shape will go around the TextBlock\n    {\n      // here the second argument is this object, which is this Node\n      doubleClick: (e, node) => {\n        window.open(\"..\" + PERSONE_ROUTE + \"/\" + node.key);\n      }\n    }, new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"RoundedRectangle\", {\n      name: \"SHAPE\",\n      fill: \"#ccc\",\n      strokeWidth: 0\n    }, new go.Binding(\"fill\", \"color\")), $(go.Panel, \"Horizontal\", $(go.Picture, {\n      margin: 10,\n      width: 50,\n      height: 50,\n      background: \"white\"\n    }, new go.Binding(\"sourse\", \"img\")), $(go.Panel, \"Vertical\", $(go.TextBlock, textStyle,\n    // some room around the text\n    new go.Binding(\"text\", \"lastname\").makeTwoWay()), $(go.TextBlock, textStyle,\n    // some room around the text\n    new go.Binding(\"text\", \"firstname\").makeTwoWay()), $(go.TextBlock, textStyle,\n    // some room around the text\n    new go.Binding(\"text\", \"surname\").makeTwoWay()))));\n    if (checkId() === user.user.id) {\n      diagram.nodeTemplate.contextMenu = $(\"ContextMenu\", $(\"ContextMenuButton\", $(go.TextBlock, \"Добавить Родственика\"), {\n        click: (e, button) => {\n          const node = button.part.adornedPart;\n          if (node !== null) {\n            const thisemp = node.data;\n            diagram.startTransaction(\"add employee\");\n            const newemp = {\n              firstname: \"Родственник\",\n              parent: thisemp.key\n            };\n            diagram.model.addNodeData(newemp);\n            const newnode = diagram.findNodeForData(newemp);\n            if (newnode) newnode.location = node.location;\n            diagram.commitTransaction(\"add employee\");\n          }\n        }\n      }), $(\"ContextMenuButton\", $(go.TextBlock, \"Удалить Родственника\"), {\n        click: (e, button) => {\n          // reparent the subtree to this node's boss, then remove the node\n          const node = button.part.adornedPart;\n          if (node !== null) {\n            diagram.startTransaction(\"reparent remove\");\n            const chl = node.findTreeChildrenNodes();\n            // iterate through the children and set their parent key to our selected node's parent key\n            while (chl.next()) {\n              const emp = chl.value;\n              diagram.model.setParentKeyForNodeData(emp.data, node.findTreeParentNode().data.key);\n            }\n            // and now remove the selected node itself\n            diagram.model.removeNodeData(node.data);\n            diagram.commitTransaction(\"reparent remove\");\n          }\n        }\n      }), $(\"ContextMenuButton\", $(go.TextBlock, \"Удалить Родственника и Цепь\"), {\n        click: (e, button) => {\n          // remove the whole subtree, including the node itself\n          const node = button.part.adornedPart;\n          if (node !== null) {\n            diagram.startTransaction(\"remove dept\");\n            diagram.removeParts(node.findTreeParts());\n            diagram.commitTransaction(\"remove dept\");\n          }\n        }\n      }));\n    }\n    diagram.linkTemplate = $(go.Link, {\n      routing: go.Link.Orthogonal,\n      corner: 5\n    }, new go.Shape({\n      strokeWidth: 3,\n      stroke: \"#ccc\"\n    }));\n    return diagram;\n  }\n\n  /**\r\n   * This function handles any changes to the GoJS model.\r\n   * It is here that you would make any updates to your React state, which is discussed below.\r\n   */\n  function handleModelChange(changes) {\n    // console.log(changes);\n  }\n  createBranches(persone.persones);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(ReactDiagram, {\n      initDiagram: initDiagram,\n      divClassName: \"diagram-component\",\n      nodeDataArray: branchs,\n      onModelChange: handleModelChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n};\n_s(Tree, \"pTc+3kfmenSL6Xdz7mM2nMHV7c0=\");\n_c = Tree;\nexport default Tree;\nvar _c;\n$RefreshReg$(_c, \"Tree\");","map":{"version":3,"names":["React","useContext","useEffect","go","ReactDiagram","Context","PERSONE_ROUTE","REACT_APP_API_URL","fetchPersones","checkId","jsxDEV","_jsxDEV","Tree","_s","persone","user","then","data","setPersones","rows","console","log","branchs","createBranches","persones","i","length","color","key","id","lastname","firstname","surname","img","textStyle","margin","Margin","stroke","initDiagram","$","GraphObject","make","diagram","Diagram","layout","TreeLayout","angle","layerSpacing","model","TreeModel","linkKeyProperty","nodeTemplate","Node","doubleClick","e","node","window","open","Binding","Point","parse","makeTwoWay","stringify","Shape","name","fill","strokeWidth","Panel","Picture","width","height","background","TextBlock","contextMenu","click","button","part","adornedPart","thisemp","startTransaction","newemp","parent","addNodeData","newnode","findNodeForData","location","commitTransaction","chl","findTreeChildrenNodes","next","emp","value","setParentKeyForNodeData","findTreeParentNode","removeNodeData","removeParts","findTreeParts","linkTemplate","Link","routing","Orthogonal","corner","handleModelChange","changes","children","divClassName","nodeDataArray","onModelChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/OneDrive/Рабочий стол/FamalyTree/famaly-tree/src/pages/Tree.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport * as go from \"gojs\";\r\nimport { ReactDiagram } from \"gojs-react\";\r\nimport { Context } from \"..\";\r\nimport { PERSONE_ROUTE, REACT_APP_API_URL } from \"../utils/consts\";\r\nimport { fetchPersones } from \"../http/personeAPI\";\r\nimport { checkId } from \"../routes\";\r\n\r\nconst Tree = () => {\r\n  const { persone, user } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    fetchPersones().then((data) => persone.setPersones(data.rows));\r\n  });\r\n  console.log(\"eff\");\r\n\r\n  let branchs = [];\r\n  //const history = useNavigate;\r\n\r\n  const createBranches = (persones) => {\r\n    for (let i = 0; i < persones.length; i++) {\r\n      const persone = persones[i];\r\n      let color = \"#a1a7cc\";\r\n      if (i === 2) {\r\n        color = \"#cca1a1\";\r\n      }\r\n      branchs[i] = {\r\n        key: persone.id,\r\n        lastname: persone.lastname,\r\n        firstname: persone.firstname,\r\n        surname: persone.surname,\r\n        img: \"data:image/jpeg;base64,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\", //REACT_APP_API_URL + persone.img,\r\n        color: color,\r\n      };\r\n      console.log(branchs[i].img);\r\n    }\r\n  };\r\n\r\n  const textStyle = { margin: new go.Margin(2, 10, 0, 0), stroke: \"white\" };\r\n\r\n  function initDiagram() {\r\n    const $ = go.GraphObject.make;\r\n    // set your license key here before creating the diagram: go.Diagram.licenseKey = \"...\";\r\n    const diagram = $(go.Diagram, {\r\n      \"undoManager.isEnabled\": true, // must be set to allow for model change listening\r\n      layout: new go.TreeLayout({ angle: 90, layerSpacing: 35 }), // 'undoManager.maxHistoryLength': 0,  // uncomment disable undo/redo functionality\r\n      //\"clickCreatingTool.archetypeNodeData\": {\r\n      // firstname: \"new persone\",\r\n      // color: \"#a1a7cc\",\r\n      //},\r\n      model: new go.TreeModel({\r\n        linkKeyProperty: \"key\", // IMPORTANT! must be defined for merges and data sync when using GraphLinksModel\r\n      }),\r\n    });\r\n\r\n    // define a simple Node template\r\n    diagram.nodeTemplate = $(\r\n      go.Node,\r\n      \"Auto\", // the Shape will go around the TextBlock\r\n      {\r\n        // here the second argument is this object, which is this Node\r\n        doubleClick: (e, node) => {\r\n          window.open(\"..\" + PERSONE_ROUTE + \"/\" + node.key);\r\n        },\r\n      },\r\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(\r\n        go.Point.stringify\r\n      ),\r\n      $(\r\n        go.Shape,\r\n        \"RoundedRectangle\",\r\n        {\r\n          name: \"SHAPE\",\r\n          fill: \"#ccc\",\r\n          strokeWidth: 0,\r\n        },\r\n        new go.Binding(\"fill\", \"color\")\r\n      ),\r\n      $(\r\n        go.Panel,\r\n        \"Horizontal\",\r\n        $(\r\n          go.Picture,\r\n          { margin: 10, width: 50, height: 50, background: \"white\" },\r\n          new go.Binding(\"sourse\", \"img\")\r\n        ),\r\n        $(\r\n          go.Panel,\r\n          \"Vertical\",\r\n          $(\r\n            go.TextBlock,\r\n            textStyle, // some room around the text\r\n            new go.Binding(\"text\", \"lastname\").makeTwoWay()\r\n          ),\r\n          $(\r\n            go.TextBlock,\r\n            textStyle, // some room around the text\r\n            new go.Binding(\"text\", \"firstname\").makeTwoWay()\r\n          ),\r\n          $(\r\n            go.TextBlock,\r\n            textStyle, // some room around the text\r\n            new go.Binding(\"text\", \"surname\").makeTwoWay()\r\n          )\r\n        )\r\n      )\r\n    );\r\n\r\n    if (checkId() === user.user.id) {\r\n      diagram.nodeTemplate.contextMenu = $(\r\n        \"ContextMenu\",\r\n        $(\"ContextMenuButton\", $(go.TextBlock, \"Добавить Родственика\"), {\r\n          click: (e, button) => {\r\n            const node = button.part.adornedPart;\r\n            if (node !== null) {\r\n              const thisemp = node.data;\r\n              diagram.startTransaction(\"add employee\");\r\n              const newemp = {\r\n                firstname: \"Родственник\",\r\n                parent: thisemp.key,\r\n              };\r\n              diagram.model.addNodeData(newemp);\r\n              const newnode = diagram.findNodeForData(newemp);\r\n              if (newnode) newnode.location = node.location;\r\n              diagram.commitTransaction(\"add employee\");\r\n            }\r\n          },\r\n        }),\r\n        $(\"ContextMenuButton\", $(go.TextBlock, \"Удалить Родственника\"), {\r\n          click: (e, button) => {\r\n            // reparent the subtree to this node's boss, then remove the node\r\n            const node = button.part.adornedPart;\r\n            if (node !== null) {\r\n              diagram.startTransaction(\"reparent remove\");\r\n              const chl = node.findTreeChildrenNodes();\r\n              // iterate through the children and set their parent key to our selected node's parent key\r\n              while (chl.next()) {\r\n                const emp = chl.value;\r\n                diagram.model.setParentKeyForNodeData(\r\n                  emp.data,\r\n                  node.findTreeParentNode().data.key\r\n                );\r\n              }\r\n              // and now remove the selected node itself\r\n              diagram.model.removeNodeData(node.data);\r\n              diagram.commitTransaction(\"reparent remove\");\r\n            }\r\n          },\r\n        }),\r\n        $(\"ContextMenuButton\", $(go.TextBlock, \"Удалить Родственника и Цепь\"), {\r\n          click: (e, button) => {\r\n            // remove the whole subtree, including the node itself\r\n            const node = button.part.adornedPart;\r\n            if (node !== null) {\r\n              diagram.startTransaction(\"remove dept\");\r\n              diagram.removeParts(node.findTreeParts());\r\n              diagram.commitTransaction(\"remove dept\");\r\n            }\r\n          },\r\n        })\r\n      );\r\n    }\r\n\r\n    diagram.linkTemplate = $(\r\n      go.Link,\r\n      { routing: go.Link.Orthogonal, corner: 5 },\r\n      new go.Shape({ strokeWidth: 3, stroke: \"#ccc\" })\r\n    );\r\n\r\n    return diagram;\r\n  }\r\n\r\n  /**\r\n   * This function handles any changes to the GoJS model.\r\n   * It is here that you would make any updates to your React state, which is discussed below.\r\n   */\r\n  function handleModelChange(changes) {\r\n    // console.log(changes);\r\n  }\r\n\r\n  createBranches(persone.persones);\r\n  return (\r\n    <div>\r\n      <ReactDiagram\r\n        initDiagram={initDiagram}\r\n        divClassName=\"diagram-component\"\r\n        nodeDataArray={branchs}\r\n        onModelChange={handleModelChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tree;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}